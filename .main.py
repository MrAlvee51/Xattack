# Xattack v1.1
# Author: Shayer Mahmud Sowmik
# fb.me/ffsowmik
# Youtube.com/XowmiKXoss

# -*- coding: utf-8 -*-
import os,sys,time
os.system("clear")
 
def jalan(z):
	for e in z + '\n':
		sys.stdout.write(e)
		sys.stdout.flush()
		time.sleep(00000.1)

os.system("clear")
##### LOGO #####
logo='''

\033[1;96m ------------------------
 \033[1;32m < Shayer Mahmud Sowmik >
 \033[1;96m ------------------------
\033[1;91m __   __                       _ _   
\033[1;92m \ \ / /                      (_) | 
\033[1;91m  \ V / _____      ___ __ ___  _| | __
\033[1;92m   > < / _ \ \ /\ / / '_ ` _ \| | |/ /
\033[1;91m  / . \ (_) \ V  V /| | | | | | |   < 
\033[1;92m /_/ \_\___/ \_/\_/ |_| |_| |_|_|_|\_\

\033[1;93m        Bomb it, Damn it.
\033[1;97m--------------------------------------------------
\033[1;95m
 AUTHOR     : Shayer Mahmud Sowmik
 FACEBOOK   : FACEBOOK.COM/FFSOWMIK
 YOUTUBE    : YOUTUBE.COM/XOWMIKXOSS
 GITHUB     : GITHUB.COM/XOWMIKXOSS
\033[1;32m

--------------------------------------------------
                                '''

cusr = "JokerSowmik"
cpwd = "JokerSowmik"

def u():
    os.system("clear")
    print(logo)
    print "\033[1;97mSECOND STEP OF LOGIN"
    print "\033[1;97m--------------------"
    print "\033[1;97m "
    usr=raw_input("          \033[1;94mTOOL USERNAME : ")
    if usr == cusr:
        p()
    else:
        os.system("clear")
        print(logo)
        print "\033[1;97mSECOND STEP OF LOGIN"
        print "\033[1;97m--------------------"
        print "\033[1;97m "
        print("          \033[1;94mTOOL USERNAME : "+usr+" (wrong)")
        time.sleep(1)
        os.system('xdg-open https://www.facebook.com/ffsowmik')
        u()
def p():
    os.system("clear")
    print(logo)
    print "\033[1;97mSECOND STEP OF LOGIN"
    print "\033[1;97m--------------------"
    print "\033[1;97m "
    print("          \033[1;94mTOOL USERNAME : JokerSowmik (correct)")
    pwd=raw_input("          \033[1;93mTOOL PASSWORD : ")
    if pwd == cpwd:
        z()
    else:
        os.system("clear")
        print(logo)
        print "\033[1;97mSECOND STEP OF LOGIN"
        print "\033[1;97m--------------------"
        print "\033[1;97m "
        print("          \033[1;94mTOOL USERNAME : JokerSowmik (correct)")
        print("          \033[1;93mTOOL PASSWORD : "+pwd+" (wrong)")
        time.sleep(1)
        os.system('xdg-open https://www.youtube.com/XowmikXoss')
        p()
    
def z():
    os.system("clear")
    print(logo)
    print "\033[1;97mSECOND STEP OF LOGIN"
    print "\033[1;97m--------------------"
    print "\033[1;97m "
    print("           \033[1;94mTOOL USERNAME : FuckerSowmik (correct)")
    print("          \033[1;93mTOOL PASSWORD : YeahXowmik (correct)")
    print(" \033[1;92mSECOND STEP Login Successfull\033[0m")
    jalan("\033[1;93mPlease Wait 2 Minutes, All Packages Are Checking.....")
    time.sleep(1)
    os.system("python xowmik-system")
if __name__=="__main__":
    u()

